---
import { useTranslations } from "../../i18n/utils";
import {
  PiEnvelope,
  PiPhone,
  PiMapPin,
  PiGithubLogo,
  PiLinkedinLogo,
  PiXLogo,
  PiInstagramLogo,
  PiDownloadSimple,
  PiClock,
  PiPaperPlaneTilt,
  PiArrowUpRight,
  PiReadCvLogoDuotone
} from "react-icons/pi";

export interface Props {
  lang: "es" | "en";
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const contactInfo = {
  email: "davidherreradelcastillo2000@gmail.com",
  phone: "+52 442 837 2849",
  location: lang === "es" ? "México, México" : "Mexico, Mexico",
  availability:
    lang === "es"
      ? "Interesado en proyectos colaborativos"
      : "Interested in collaborative projects",
  timezone:
    "GMT-6 (CST) - " + (lang === "es" ? "Ciudad de México" : "Mexico City"),
};

const socialLinks = [
  {
    name: "GitHub",
    url: "https://github.com/david-heca",
    icon: "github",
    username: "@david-heca",
    color:
      "group-hover:bg-gray-900 group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-gray-900",
  },
  {
    name: "LinkedIn",
    url: "https://www.linkedin.com/in/david-heca/",
    icon: "linkedin",
    username: "/in/david-heca",
    color: "group-hover:bg-blue-600 group-hover:text-white",
  },
  {
    name: "Twitter",
    url: "https://x.com/david_heca_",
    icon: "twitter",
    username: "@david_heca_",
    color:
      "group-hover:bg-black group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-black",
  },
  {
    name: "Instagram",
    url: "https://www.instagram.com/david_heca/",
    icon: "instagram",
    username: "@david_heca",
    color:
      "group-hover:bg-linear-to-br group-hover:from-purple-600 group-hover:to-pink-500 group-hover:text-white",
  },
];
---

<section class="min-h-screen px-4 pt-20 pb-20">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="animate-slide-up text-center mb-12">
      <h1
        class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4"
      >
        {t("contact.title")}
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        {t("contact.subtitle")}
      </p>
    </div>

    <!-- Bento Grid Layout -->
    <div class="grid grid-cols-1 md:grid-cols-12 gap-4 mb-12">
      <!-- Main Contact Card - Email -->
      <div
        class="md:col-span-8 rounded-3xl bg-linear-to-br from-blue-500 to-blue-600 p-8 md:p-10 relative overflow-hidden group"
      >
        <div
          class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC4xIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc=')] opacity-30"
        >
        </div>
        <div
          class="absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity"
        >
          <PiPaperPlaneTilt className="w-40 h-40 text-white" />
        </div>

        <div class="relative z-10">
          <div
            class="inline-flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium mb-6"
          >
            <span class="relative flex h-2 w-2">
              <span
                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"
              ></span>
              <span
                class="relative inline-flex rounded-full h-2 w-2 bg-green-400"
              ></span>
            </span>
            {contactInfo.availability}
          </div>

          <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            {
              lang === "es"
                ? "Hablemos de tu proyecto"
                : "Let's talk about your project"
            }
          </h2>

          <p class="text-blue-100 text-lg mb-8 max-w-xl">
            {
              lang === "es"
                ? "¿Tienes una idea increíble? Me encantaría escucharla y ver cómo puedo ayudarte a hacerla realidad."
                : "Have an amazing idea? I'd love to hear it and see how I can help you make it a reality."
            }
          </p>

          <div class="flex flex-col sm:flex-row gap-4">
            <a
              href={`mailto:${contactInfo.email}`}
              class="inline-flex items-center justify-center gap-3 px-8 py-4 bg-white text-blue-600 rounded-2xl font-bold hover:scale-105 transition-all duration-200 shadow-xl shadow-blue-900/20"
            >
              <PiEnvelope className="w-5 h-5" />
              {lang === "es" ? "Enviar Correo" : "Send Email"}
            </a>
            <a
              href={`tel:${contactInfo.phone}`}
              class="inline-flex items-center justify-center gap-3 px-8 py-4 bg-white/10 backdrop-blur-sm text-white border border-white/30 rounded-2xl font-bold hover:bg-white/20 transition-all duration-200"
            >
              <PiPhone className="w-5 h-5" />
              {contactInfo.phone}
            </a>
          </div>
        </div>
      </div>

      <!-- Location Card -->
      <div
        class="md:col-span-4 rounded-3xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-8 relative overflow-hidden group"
      >
        <div
          class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity"
        >
          <PiMapPin className="w-32 h-32" />
        </div>

        <div class="relative z-10">
          <div
            class="w-14 h-14 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mb-6"
          >
            <PiMapPin
              className="w-7 h-7 text-purple-600 dark:text-purple-400"
            />
          </div>

          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">
            {lang === "es" ? "Ubicación" : "Location"}
          </h3>

          <p class="text-gray-600 dark:text-gray-400 mb-4">
            {contactInfo.location}
          </p>

          <div
            class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-500 mb-4"
          >
            <PiClock className="w-4 h-4" />
            {contactInfo.timezone}
          </div>
        </div>
      </div>

      <!-- CV Downloads -->
      <div
        class="md:col-span-6 rounded-3xl bg-linear-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border border-gray-200 dark:border-gray-700 p-8 relative overflow-hidden group"
      >
        <div
          class="absolute top-0 right-0 w-40 h-40 bg-linear-to-br from-red-500/20 to-orange-500/20 rounded-full blur-3xl -mr-20 -mt-20 group-hover:scale-150 transition-transform duration-500"
        >
        </div>

        <div class="relative z-10">
          <div class="flex items-center gap-3 mb-4">
            <div
              class="w-12 h-12 bg-linear-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center"
            >
              <PiReadCvLogoDuotone className="w-6 h-6 text-white" />
            </div>
            <div>
              <h3 class="font-bold text-gray-900 dark:text-white">
                CV Español
              </h3>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                PDF • Nov 2025
              </p>
            </div>
          </div>

          <p class="text-gray-600 dark:text-gray-400 text-sm mb-6">
            {
              lang === "es"
                ? "Currículum completo con experiencia, habilidades y proyectos."
                : "Complete resume with experience, skills and projects."
            }
          </p>

          <a
            href="/assets/documents/davidherrera-spanish.pdf"
            download="davidherrera-spanish.pdf"
            class="inline-flex items-center gap-2 px-6 py-3 bg-linear-to-r from-red-500 to-orange-500 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-200"
          >
            <PiDownloadSimple className="w-5 h-5" />
            {lang === "es" ? "Descargar" : "Download"}
          </a>
        </div>
      </div>

      <div
        class="md:col-span-6 rounded-3xl bg-linear-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-gray-200 dark:border-gray-700 p-8 relative overflow-hidden group"
      >
        <div
          class="absolute top-0 right-0 w-40 h-40 bg-linear-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-3xl -mr-20 -mt-20 group-hover:scale-150 transition-transform duration-500"
        >
        </div>

        <div class="relative z-10">
          <div class="flex items-center gap-3 mb-4">
            <div
              class="w-12 h-12 bg-linear-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center"
            >
              <PiReadCvLogoDuotone className="w-6 h-6 text-white" />
            </div>
            <div>
              <h3 class="font-bold text-gray-900 dark:text-white">
                CV English
              </h3>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                PDF • Nov 2025
              </p>
            </div>
          </div>

          <p class="text-gray-600 dark:text-gray-400 text-sm mb-6">
            {
              lang === "es"
                ? "Versión en inglés para oportunidades internacionales."
                : "English version for international opportunities."
            }
          </p>

          <a
            href="/assets/documents/davidherrera-english.pdf"
            download="davidherrera-english.pdf"
            class="inline-flex items-center gap-2 px-6 py-3 bg-linear-to-r from-blue-500 to-purple-500 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-200"
          >
            <PiDownloadSimple className="w-5 h-5" />
            {lang === "es" ? "Descargar" : "Download"}
          </a>
        </div>
      </div>

      <!-- Social Links -->
      {
        socialLinks.map((social) => (
          <a
            href={social.url}
            target="_blank"
            rel="noopener noreferrer"
            class={`md:col-span-3 rounded-3xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-6 flex items-center gap-4 group hover:shadow-xl transition-all duration-300 ${social.color}`}
          >
            <div class="w-12 h-12 rounded-2xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center group-hover:bg-transparent transition-all duration-300">
              {social.icon === "github" && (
                <PiGithubLogo className="w-6 h-6 text-gray-700 dark:text-gray-300 group-hover:text-current transition-colors" />
              )}
              {social.icon === "linkedin" && (
                <PiLinkedinLogo className="w-6 h-6 text-gray-700 dark:text-gray-300 group-hover:text-current transition-colors" />
              )}
              {social.icon === "twitter" && (
                <PiXLogo className="w-6 h-6 text-gray-700 dark:text-gray-300 group-hover:text-current transition-colors" />
              )}
              {social.icon === "instagram" && (
                <PiInstagramLogo className="w-6 h-6 text-gray-700 dark:text-gray-300 group-hover:text-current transition-colors" />
              )}
            </div>
            <div class="flex-1 min-w-0">
              <p class="font-bold text-gray-900 dark:text-white group-hover:text-current transition-colors">
                {social.name}
              </p>
              <p class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-current/70 transition-colors truncate">
                {social.username}
              </p>
            </div>
            <PiArrowUpRight className="w-5 h-5 text-gray-400 group-hover:text-current opacity-0 group-hover:opacity-100 transition-all" />
          </a>
        ))
      }
    </div>
  </div>
</section>
