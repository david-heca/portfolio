---
import { useTranslations } from "../../i18n/utils";
import {
  PiArrowRight,
  PiGithubLogo,
  PiLinkedinLogo,
  PiDownloadSimple,
  PiCode,
} from "react-icons/pi";

export interface Props {
  lang: "es" | "en";
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const socialLinks = [
  {
    href: "https://github.com/david-heca",
    icon: PiGithubLogo,
    label: "GitHub",
  },
  {
    href: "https://linkedin.com/in/david-heca",
    icon: PiLinkedinLogo,
    label: "LinkedIn",
  },
];
---

<div
  class="grid grid-cols-1 md:grid-cols-3 gap-4 auto-rows-[minmax(180px,auto)]"
>
  <!-- Hero Section -->
  <div class="md:col-span-2 row-span-2 rounded-3xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-8 flex flex-col justify-between relative overflow-hidden group">
    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
      <PiCode className="w-32 h-32" />
    </div>

    <div class="z-10">
      <div
        class="inline-flex items-center align-middle gap-2 px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-medium mb-6"
      >
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75" />
          <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500" />
        </span>
        Available for work
      </div>

      <h1
        class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight"
      >
        {t("hero.greeting")}
        <span class="text-blue-600 dark:text-blue-400">David Herrera</span>
      </h1>
      <p
        class="text-xl text-gray-600 dark:text-gray-400 max-w-lg leading-relaxed"
      >
        {t("hero.title")}
      </p>
      <p class="mt-4 text-gray-500 dark:text-gray-500 max-w-lg">
        {t("hero.description")}
      </p>
    </div>

    <div class="flex gap-4 mt-8 z-10">
      <a
        href={lang === "es" ? "/contact" : "/en/contact"}
        class="inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-medium hover:scale-105 transition-transform"
      >
        {t("common.contactMe")}
        <PiArrowRight />
      </a>
      <a
        href="/assets/documents/cv.pdf"
        target="_blank"
        class="inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
        CV
        <PiDownloadSimple />
      </a>
    </div>
  </div>

  <!-- Avatar / Photo -->
  <div
    class="md:col-span-1 row-span-1 rounded-3xl bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 p-4 flex items-center justify-center relative overflow-hidden"
  >
    <!-- Placeholder for Avatar3D or Image -->
    <div class="w-32 h-32 md:w-40 md:h-40 flex items-center justify-center">
      <img
        src="/assets/dh.webp"
        alt="David Herrera Logo"
        class="w-full h-full rounded-full object-contain drop-shadow-2xl hover:scale-105 transition-transform duration-500"
      />
    </div>
  </div>

  <!-- Socials -->
  <div
    class="md:col-span-1 row-span-1 rounded-3xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-6 flex flex-col justify-center"
  >
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
      Connect
    </h3>
    <div class="flex gap-4">
      {
        socialLinks.map((link) => (
          <a
            href={link.href}
            target="_blank"
            rel="noopener noreferrer"
            class="p-3 rounded-xl bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 hover:shadow-md transition-all border border-gray-100 dark:border-gray-700"
          >
            <link.icon className="w-6 h-6" />
          </a>
        ))
      }
    </div>
  </div>

  <!-- Latest Projects Preview (Placeholder) -->
  <div
    class="md:col-span-3 rounded-3xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-8"
  >
    <div class="flex justify-between items-end mb-6">
      <div>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white">
          {t("projects.title")}
        </h3>
        <p class="text-gray-500 dark:text-gray-400 mt-2">
          {t("projects.subtitle")}
        </p>
      </div>
      <a
        href={lang === "es" ? "/projects" : "/en/projects"}
        class="text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1"
      >
        {t("common.viewProject")}
        <PiArrowRight />
      </a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Project Card 1 -->
      <div
        class="group relative rounded-2xl overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300"
      >
        <div
          class="aspect-video bg-gray-200 dark:bg-gray-700 group-hover:scale-105 transition-transform duration-500"
        >
        </div>
        <div class="p-6">
          <h4 class="text-lg font-bold text-gray-900 dark:text-white mb-2">
            Project Name
          </h4>
          <p class="text-gray-500 dark:text-gray-400 text-sm line-clamp-2">
            Short description of the project goes here. It's amazing and uses
            modern tech.
          </p>
        </div>
      </div>
      <!-- Project Card 2 -->
      <div
        class="group relative rounded-2xl overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300"
      >
        <div
          class="aspect-video bg-gray-200 dark:bg-gray-700 group-hover:scale-105 transition-transform duration-500"
        >
        </div>
        <div class="p-6">
          <h4 class="text-lg font-bold text-gray-900 dark:text-white mb-2">
            Another Project
          </h4>
          <p class="text-gray-500 dark:text-gray-400 text-sm line-clamp-2">
            Another cool project description.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
